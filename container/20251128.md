# 2025-11-28

## :family: Participants (GitHub handles preferred)

- @jschoone
- @garloff
- @arnoschneidunia

## :telephone: Minutes taking&transfer

## :notebook: Agenda

### Welcome, Arno!

### Ongoing work for Cluster Stacks (@garloff)
- Release patch versions every month
    - this needs a new -vN every time, as we reference the node image, no?
    - Can we do this together once?
    	- Latest node image from <https://swift.services.a.regiocloud.tech/swift/v1/AUTH_b182637428444b9aa302bb8d5a5a418c/openstack-k8s-capi-images/>
    		- There should be an v1.33.6 also (AI @garloff: ping @berendt)
    		- Moved, see https://github.com/osism/k8s-capi-images and [PR #302](https://github.com/osism/k8s-capi-images/pull/302)
    	- Research latest occm and csi <https://github.com/kubernetes/cloud-provider-openstack/releases>
    	- Adjust `providers/openstack/scs2/versions.yaml` and `csctl.yaml`
    	- Automatic image download (via ORC) in scs2 is no longer active
    		- Release notes omission
    			- Document ORC way (@jschoone)
    			- Provide yaml input for openstack-image-manager in cluster-stacks (@jschoone)
    		- Should be only a fallback if the IaaS CSP does not register a public image
		- Testing: e2e tests (sonobuoy): 1.33.5: `v0-git.b765e59`
			(AI @garloff) - fixed k8s version in v0-git.93d0e12
		- Push out final release (@garloff)
- Migration `scs` -> `scs2` tool&docs: Who, when? (@garloff reach out to @Nils98Ar)
- Make CCM LoadBalancer configurable (tristate: default, octavia-amphora, octavia-ovn)
- Deployment performance investigation (AI @garloff)
- `clusterctl move` testing (is ev'thing moved that should?)

- Random doc snippets:

- Test-release script:
```bash
#!/bin/bash
set -e
export OCI_REGISTRY=registry.scs.community
export OCI_REPOSITORY=$OCI_REGISTRY/kaas/cluster-stacks
export OCI_USERNAME='robot$kg-kaas'
#GITREL=$(git -C /casa/src/SCS/cluster-stacks rev-parse --short HEAD)
GITREL=$(git rev-parse --short HEAD)
OCI_PASSWORD="SECRET"
csctl create -m custom --publish --remote oci \
        --cluster-stack-version v0-git.$GITREL \
        --cluster-addon-version v0-git.$GITREL \
        --node-image-version v0-git.$GITREL \
        providers/openstack/scs2
```
- Final release:
```
[...]
csctl create -m stable --publish --remote oci \
	providers/openstack/scs2
```
(omit `--publish` to test)

- Enabling gateway API:
```
kubectl apply -f https://github.com/kubernetes-sigs/gateway-api/releases/download/v1.3.0/standard-install.yaml
kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/gateway-api/v1.3.0/config/crd/experimental/gateway.networking.k8s.io_tlsroutes.yaml
# Patch configMap for cilium -- won't be effective if kube-proxy is running already
kubectl patch -n kube-system configmap cilium-config -p '.data.kube-proxy-replacement: true'
```
We need Gateway-API tests!

